# FlashFusion Environment Configuration
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control (it's in .gitignore)

# =============================================================================
# Server Configuration
# =============================================================================

# Server port (default: 5000)
PORT=5000

# Node environment (development, production, test)
NODE_ENV=development

# Graceful shutdown timeout in milliseconds (default: 10000ms = 10 seconds)
# Time to wait for in-flight requests to complete before forcing shutdown
SHUTDOWN_TIMEOUT_MS=10000

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
# 
# For local development:
# DATABASE_URL="postgresql://postgres:password@localhost:5432/flashfusion"
#
# For Replit (auto-configured, no need to set):
# DATABASE_URL is automatically provided by Replit
#
# For production (Supabase, Railway, etc.):
# DATABASE_URL="postgresql://user:pass@db.example.com:5432/flashfusion?sslmode=require"
DATABASE_URL="postgresql://user:password@localhost:5432/flashfusion"

# =============================================================================
# Session Configuration
# =============================================================================

# Session secret (REQUIRED - generate with: openssl rand -base64 32)
# This MUST be a long, random string
# NEVER use the default value in production!
SESSION_SECRET="change-this-to-a-long-random-string-at-least-32-characters"

# Session cookie name (default: flashfusion.sid)
SESSION_NAME="flashfusion.sid"

# Session max age in milliseconds (default: 24 hours)
# 86400000 = 24 hours
# 604800000 = 7 days
SESSION_MAX_AGE=86400000

# =============================================================================
# AI Service Configuration
# =============================================================================

# OpenAI API Configuration
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-proj-..."
OPENAI_MODEL="gpt-4-turbo-preview"
OPENAI_MAX_TOKENS=2000

# Anthropic (Claude) API Configuration (optional - future support)
# ANTHROPIC_API_KEY="sk-ant-..."
# ANTHROPIC_MODEL="claude-3-sonnet-20240229"

# Google Gemini API Configuration (optional - future support)
# GOOGLE_API_KEY="..."
# GEMINI_MODEL="gemini-pro"

# Grok API Configuration (optional - future support)
# GROK_API_KEY="..."

# Perplexity API Configuration (optional - future support)
# PERPLEXITY_API_KEY="..."

# ElevenLabs (Voice) API Configuration (optional - future support)
# ELEVENLABS_API_KEY="..."

# =============================================================================
# Email Configuration (Optional - for password reset, notifications)
# =============================================================================

# Resend API Configuration
# Get your API key from: https://resend.com/api-keys
RESEND_API_KEY="re_..."

# Email sender configuration
EMAIL_FROM="noreply@flashfusion.dev"
EMAIL_FROM_NAME="FlashFusion"

# =============================================================================
# OAuth Configuration (Optional - for social login)
# =============================================================================

# Replit OAuth (Google, GitHub, Apple, X, Email)
# Get credentials from: https://replit.com/site/docs/hosting/oauth
REPLIT_CLIENT_ID="your-client-id"
REPLIT_CLIENT_SECRET="your-client-secret"
REPLIT_CALLBACK_URL="http://localhost:5000/api/auth/replit/callback"

# =============================================================================
# PWA & Push Notifications (Optional)
# =============================================================================

# VAPID keys for web push notifications
# Generate with: npx web-push generate-vapid-keys
# VAPID_PUBLIC_KEY="..."
# VAPID_PRIVATE_KEY="..."
# VAPID_SUBJECT="mailto:support@yourdomain.com"

# =============================================================================
# Business Rules (optional, defaults shown)
# =============================================================================

TAX_RATE=0.08
FREE_SHIPPING_THRESHOLD=50
STANDARD_SHIPPING_COST=9.99

# =============================================================================
# Stripe (required for billing - Phase 4)
# =============================================================================

STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# =============================================================================
# Platform Integration Configuration (Future)
# =============================================================================

# Printify API Configuration
# PRINTIFY_API_KEY="..."
# PRINTIFY_SHOP_ID="..."

# Etsy API Configuration
# ETSY_API_KEY="..."
# ETSY_SHOP_ID="..."

# Gumroad API Configuration
# GUMROAD_API_KEY="..."

# Amazon KDP Configuration
# AMAZON_KDP_ACCESS_KEY="..."
# AMAZON_KDP_SECRET_KEY="..."

# Redbubble Configuration
# REDBUBBLE_API_KEY="..."

# =============================================================================
# Feature Flags (Optional)
# =============================================================================

# Enable/disable features
ENABLE_AI_FEATURES=true
ENABLE_PWA=true
ENABLE_ANALYTICS=true
ENABLE_EMAIL=true

# =============================================================================
# Security Configuration
# =============================================================================

# CORS allowed origins (comma-separated for multiple origins)
# In development: http://localhost:5000,http://localhost:3000
# In production: https://yourdomain.com
# Use * to allow all origins (NOT recommended for production)
ALLOWED_ORIGINS="http://localhost:5000"

# Bcrypt salt rounds (10-12 recommended, higher = more secure but slower)
BCRYPT_SALT_ROUNDS=12

# Password reset token expiry (in milliseconds)
# 3600000 = 1 hour
PASSWORD_RESET_TOKEN_EXPIRY=3600000

# Trust proxy setting (set to true if behind reverse proxy like Nginx, Replit)
# This is required for HTTPS redirect and rate limiting to work correctly
TRUST_PROXY=true

# =============================================================================
# Rate Limiting (Future Implementation)
# =============================================================================

# Rate limit configuration
# RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
# RATE_LIMIT_MAX_REQUESTS=100
# RATE_LIMIT_LOGIN_MAX=5

# =============================================================================
# Logging & Monitoring (Optional)
# =============================================================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Sentry DSN for error tracking (optional)
# SENTRY_DSN="https://...@sentry.io/..."

# =============================================================================
# Development & Testing
# =============================================================================

# Seed database with demo data on startup (development only)
SEED_ON_STARTUP=false

# Enable debug logging
DEBUG=false

# =============================================================================
# Production Optimizations
# =============================================================================

# Enable compression
ENABLE_COMPRESSION=true

# Trust proxy (set to true if behind reverse proxy like Nginx)
TRUST_PROXY=false

# =============================================================================
# Replit-Specific Configuration (Auto-configured)
# =============================================================================

# These are automatically set by Replit, no need to configure:
# - REPLIT_DB_URL (database connection)
# - REPL_ID (repl identifier)
# - REPL_SLUG (repl name)
# - REPL_OWNER (repl owner)

# =============================================================================
# Notes
# =============================================================================

# 1. Generate secure secrets:
#    openssl rand -base64 32
#
# 2. For production, use environment variables or secrets management:
#    - Replit: Use the Secrets tab
#    - Vercel: Use Environment Variables in dashboard
#    - Heroku: Use heroku config:set
#    - Railway: Use Variables in dashboard
#
# 3. Never commit .env to version control
#
# 4. Keep .env.example updated with new variables
#
# 5. Validate all required variables on startup
#
# 6. Use different values for development, staging, and production
